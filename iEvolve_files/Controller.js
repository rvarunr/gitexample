"use strict";define([],function(){function Controller($scope,$http,httpService,$filter,$location){}return Controller;});function IndexController($scope,$route,$http,$compile,$location,$window,$timeout,$rootScope,SearchObjectDetails,ILTSearchFilterDetails,$filter,RequestDetails,Worklistdata,ILTDetails,ViewLearningNavigation,httpService,getSearchedContentList,showHeldCompetencies){$rootScope.prevReqTime=0;$rootScope.crntReqTime=0;$scope.externalInterfaces=[];$scope.externalInterfaces["tcs-video-channel"]={name:"TCS Videos",url:"https://video.tcs.com/category?cat=58&context=_nfpb&_pageLabel=l_logo"};$scope.externalInterfaces["fresco-play"]={name:"Fresco Play",url:"https://play-api.fresco.me/users/auth/saml"};$scope.externalInterfaces["skill-soft"]={name:"Learning Center",url:"https://tcsltd.skillport.com/skillportfe/custom/login/tcsltd/login.action"};$scope.externalInterfaces["safari-books"]={name:"Learning Resources",url:"https://safarijv.auth0.com/authorize?client_id=UtNi1m1IRXgzYFIwZrhSxell9EDRaL2v&response_type=code&redirect_uri=https://www.safaribooksonline.com/complete/auth0-oauth2/&connection=TCS&scope=openid"};$scope.externalInterfaces["globe-smart"]={name:"Culture Learning",url:"https://gavs.ultimatix.net/gavs/"};$scope.externalInterfaces.lynda={name:"Lynda",url:"https://shib.lynda.com/Shibboleth.sso/InCommon?providerId=www.ultimatix.net"};$scope.externalInterfaces.adobe={name:"Adobe",url:"https://adobeid-na1.services.adobe.com/renga-idprovider/pages/login?callback=https%3A%2F%2Fims-na1.adobelogin.com%2Fims%2Fadobeid%2FAPP_AdobePartnerExchange_Prod%2FAdobeID%2Ftoken%3Fredirect_uri%3Dhttps%253A%252F%252Fsolutionpartners.adobe.com%252Fservices%252FprocessLogin.SPP.html%252Fj_security_check%253Fprovider%253DAPP_AdobePartnerExchange_Prod%2526configid%253Dimsspp&client_id=APP_AdobePartnerExchange_Prod&scope=AdobeID%2Copenid&denied_callback=https%3A%2F%2Fims-na1.adobelogin.com%2Fims%2Fdenied%2FAPP_AdobePartnerExchange_Prod%3Fredirect_uri%3Dhttps%253A%252F%252Fsolutionpartners.adobe.com%252Fservices%252FprocessLogin.SPP.html%252Fj_security_check%253Fprovider%253DAPP_AdobePartnerExchange_Prod%2526configid%253Dimsspp%26response_type%3Dtoken&display=web_v2&relay=14f69c9d-eb93-4db8-bf99-dbd36c6176df&locale=en_US&flow_type=token&idp_flow_type=login"};$scope.publishInterface=function(item,value){return $scope.externalInterfaces[item][value];};$scope.data=null;$scope.BrowserError=false;$rootScope.countIcon=true;$scope.displayRoleStr="";$rootScope.worklistCountIcon=true;$rootScope.isFAQ=true;$=jQuery;SMLogoutController($scope);$scope.widthbrowser=document.documentElement.offsetWidth;$scope.widthbrowser_left=$scope.widthbrowser/2-480;$scope.widthbrowser_right=$scope.widthbrowser/2+480;$rootScope.isLoadFirstTime=true;$scope.objectTitle="";$scope.location=$location;$scope.currentLocationUrl="";$scope.suggestionSelected=false;$scope.newSuggetions={suggetions:[],singleWord:false};$scope.oldSearch=false;$scope.enableLuceneSearch=true;$scope.enableSuggestions=function(){$scope.newSuggetions.suggetions=[];if(!$scope.oldSearch){if($scope.suggestionSelected){$scope.suggestionSelected=false;}else{if($scope.objectTitle.length>0){$http({url:"rest/search/suggestions",method:"post",data:$scope.objectTitle}).success(function(data){$scope.suggestionSelected=false;if(data.suggetions.length>0){$scope.newSuggetions.suggetions=data.suggetions;document.getElementById("suggestDD").style.display="block";}else{document.getElementById("suggestDD").style.display="none";}});}else{document.getElementById("suggestDD").style.display="none";}}}};$scope.selectSuggestion=function(e){$scope.suggestionSelected=true;e.target.parentElement.style.display="none";$scope.objectTitle=$.trim(e.target.innerText);$scope.enterNewSearch();};$scope.enterNewSearch=function(e){$rootScope.selectedSearchPage="";if($scope.objectTitle.length<3){$timeout(function(){alert("Please enter minimum 3 character for search.");});}else{if($scope.objectTitle.length>=100){$timeout(function(){alert("Please enter less than 100 characters to search");});}else{$scope.redirectToObjectPage();}}};(function(){$("html").click(function(){$("#suggestDD").hide();});$("#appendedPrependedDropdownButton").click(function(event){event.stopPropagation();});})();$("#appendedPrependedDropdownButton").keydown(function(e){var key=e.keyCode;if(key==13){document.getElementById("suggestDD").style.display="none";$current=null;return;}else{if(key!=40&&key!=38){return;}}$scope.suggestionSelected=true;var $listItems=$("#suggestDD li");var $selected=$listItems.filter(".selected"),$current;$listItems.removeClass("selected");if(key==40){if(!$selected.length||$selected.is(":last-child")){$current=$listItems.eq(0);}else{$current=$selected.next();}}else{if(key==38){if(!$selected.length||$selected.is(":first-child")){$current=$listItems.last();}else{$current=$selected.prev();}}}$current.addClass("selected");$scope.objectTitle=$.trim($current.first().text());$scope.$apply();});$scope.$on("$viewContentLoaded",function(){if(!$("#widgetDiv").is(":visible")){$scope.showFAQHelp=true;}else{$scope.showFAQHelp=false;}});$scope.isRedirectFrmESS=false;if(document.referrer.indexOf("https://hrms.ultimatix.net/Ess")>-1){$scope.isRedirectFrmESS=true;}var ieUserAgent={init:function(){var ua=navigator.userAgent;this.compatibilityMode=false;var ieRegex=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");if(ieRegex.exec(ua)==null){this.exception="The user agent detected does not contain Internet Explorer.";}this.renderVersion=parseFloat(RegExp.$1);this.version=this.renderVersion;if(navigator.appName=="Microsoft Internet Explorer"){if(ua.indexOf("Trident/6.0")>-1){if(ua.indexOf("MSIE 7.0")>-1){this.compatibilityMode=true;this.version=10;}}else{if(ua.indexOf("Trident/5.0")>-1){if(ua.indexOf("MSIE 7.0")>-1){this.compatibilityMode=true;this.version=9;}}else{if(ua.indexOf("Trident/4.0")>-1){if(ua.indexOf("MSIE 7.0")>-1){this.compatibilityMode=true;this.version=8;}}else{if(ua.indexOf("MSIE 7.0")>-1){this.version=7;}else{this.version=6;}}}}}}};$rootScope.atlogin=true;ieUserAgent.init();$timeout(function(){if(navigator.appName=="Microsoft Internet Explorer"){if($rootScope.atlogin&&($.browser.msie&&($.browser.version==8||$.browser.version==9))){$rootScope.atlogin=false;$scope.showModal("ieVersionComp");}if(ieUserAgent.compatibilityMode){$scope.BrowserError=true;}if(ieUserAgent.version==6||ieUserAgent.version==7){$scope.BrowserError=true;}}});$scope.ieVersion=ieUserAgent.version;$scope.fetchMenus=function(){var myTest=window.open("about:blank","","height=1,width=1");setTimeout(function(){if(!myTest||myTest.outerHeight===0||myTest==null){$scope.popupFlag=true;}else{myTest.close();$scope.popupFlag=false;}},0);$scope.userRoles="";$rootScope._menus="";$scope.displayRoleStr="";$http({method:"POST",url:"rest/menus/?cd="+(new Date()).getTime()}).success(function(data){if(data==undefined||data==null||data==""){$http({method:"POST",url:"rest/accessDeniedlogoutApp/"}).success(function(data){location.href="/iEvolve/403.html";}).error(function(data){location.href="/iEvolve/403.html";});}else{$scope.getLandingPageDetails();$scope.loggedInUserId=data.username;$scope.userRoles=angular.copy(data.authorities);$scope.MymenuList=data.menuList;$scope.Isouhead=false;$scope.isSupervisor=false;$scope.isOtherPrivilages=false;$scope.isAdmin=false;if($scope.userRoles!=null){for(var i=0;i<$scope.userRoles.length;i++){var role=$scope.userRoles[i];if(role.authority=="Learner"){$scope.displayRoleStr=$scope.displayRoleStr+"Learner";}else{if(role.authority=="Supervisor"){$scope.isSupervisor=true;$scope.displayRoleStr=$scope.displayRoleStr+", Supervisor";}else{if(role.authority=="IOU Head"){$scope.Isouhead=true;}else{$scope.isOtherPrivilages=true;}}}}}if(data=="SM_USER_CHANGE"||data=="SESSION_EXPIRED"){location.href="index.html?cd="+(new Date()).getTime();}else{if(null==data.menuList||data.menuList==""){$http({method:"POST",url:"rest/accessDeniedlogoutApp/"}).success(function(data){location.href="/iEvolve/403.html";}).error(function(data){location.href="/iEvolve/403.html";});}else{$rootScope._menus=data.menuList;BrandingController($scope,data);$rootScope.userEmpId=data.username;$scope.userRoles=data.userRoles;$rootScope.userRoles=$scope.userRoles;$("#utxMenuCont").prepend(prepareMenuUI(makeTree(data.menuList)));$compile($("#utxMenuCont"))($scope);}}}}).error(function(data){if(($.browser.msie&&$.browser.version<=8)||($.browser.msie&&$.browser.version<=8&&ieUserAgent.compatibilityMode)){location.href="pages/error/errorPageIE.html";}else{location.href="pages/error/globalError.html";}});};$scope.clearMenus=function(){document.getElementById("utxMenuCont").innerHTML="";};$scope.goToRequestList=function(){RequestDetails.setFlag(false);$scope.redirectToUrl("/wrkflw/Request/ViewRequestList","00");};$scope.goToWorkList=function(){Worklistdata.setFlag(false);$rootScope.worklistCountIcon=false;$scope.redirectToUrl("/WorkList/CommonWorkList","00");};$scope.redirectToUrl=function(url,parentid){$scope.objectTitle="";var module=parentid.substring(0,1);switch(module){case"1":$("#homemodule1").removeClass("dropdown dropdownVerticalLine").addClass("dropdown dropdownVerticalLineOnHover");$("#homemodule2").removeClass("dropdown dropdownVerticalLineOnHover").addClass("dropdown dropdownVerticalLine");$("#homemodule3").removeClass("dropdown dropdownVerticalLineOnHover").addClass("dropdown dropdownVerticalLine");$("#homemodule5").removeClass("dropdown dropdownVerticalLineOnHover").addClass("dropdown dropdownVerticalLine");break;case"2":$("#homemodule2").removeClass("dropdown dropdownVerticalLine").addClass("dropdown dropdownVerticalLineOnHover");$("#homemodule1").removeClass("dropdown dropdownVerticalLineOnHover").addClass("dropdown dropdownVerticalLine");$("#homemodule3").removeClass("dropdown dropdownVerticalLineOnHover").addClass("dropdown dropdownVerticalLine");$("#homemodule5").removeClass("dropdown dropdownVerticalLineOnHover").addClass("dropdown dropdownVerticalLine");break;case"3":$("#homemodule3").removeClass("dropdown dropdownVerticalLine").addClass("dropdown dropdownVerticalLineOnHover");$("#homemodule1").removeClass("dropdown dropdownVerticalLineOnHover").addClass("dropdown dropdownVerticalLine");$("#homemodule2").removeClass("dropdown dropdownVerticalLineOnHover").addClass("dropdown dropdownVerticalLine");$("#homemodule5").removeClass("dropdown dropdownVerticalLineOnHover").addClass("dropdown dropdownVerticalLine");break;case"5":$("#homemodule5").removeClass("dropdown dropdownVerticalLine").addClass("dropdown dropdownVerticalLineOnHover");$("#homemodule1").removeClass("dropdown dropdownVerticalLineOnHover").addClass("dropdown dropdownVerticalLine");$("#homemodule2").removeClass("dropdown dropdownVerticalLineOnHover").addClass("dropdown dropdownVerticalLine");$("#homemodule3").removeClass("dropdown dropdownVerticalLineOnHover").addClass("dropdown dropdownVerticalLine");break;default:$("#homemodule1").removeClass("dropdown dropdownVerticalLineOnHover").addClass("dropdown dropdownVerticalLine");$("#homemodule2").removeClass("dropdown dropdownVerticalLineOnHover").addClass("dropdown dropdownVerticalLine");$("#homemodule3").removeClass("dropdown dropdownVerticalLineOnHover").addClass("dropdown dropdownVerticalLine");$("#homemodule5").removeClass("dropdown dropdownVerticalLineOnHover").addClass("dropdown dropdownVerticalLine");break;}if($scope.currentLocationUrl==url){$route.reload();}else{if(url.indexOf("https://")!=-1){window.open(url,"_blank");}else{$location.path(url);}}};$scope.logout=function(){$http({method:"GET",url:"rest/logoutNSM/?cd="+(new Date()).getTime(),data:"jsonp",cache:false}).success(function(data){}).error(function(data){});};$scope.showModal=function(id){$("#"+id).modal("show");};$scope.hideModal=function(id){$("#"+id).modal("hide");};$scope.currentLoc="Home";$scope.$watch("location.path()",function(path){var temp;if(path.match("^/lnk/")){temp=path.substring(5,8);}else{if(path.match("^/wrkflw/")){temp=path.substring(8,11);}else{temp=path.substring(1,4);}}$scope.currentLocationUrl=path;if(temp=="Hom"){$scope.currentLoc="Home";$scope.changeObject("Course");$scope.objectTitle="";}else{$scope.currentLoc="Other";switch(temp.toLowerCase()){case"cou":$scope.changeObject("Course");break;case"ilt":$scope.changeObject("ILT");break;case"com":$scope.changeObject("Competency");break;case"cer":$scope.changeObject("Certification / Exam");break;default:$scope.changeObject("Course");break;}}});$scope.searchObject={objectName:"Course",objectPlaceHolder:"Enter Course title / id"};$scope.changeObject=function(objectname){if(objectname=="Course"){$scope.searchObject.objectName="Course";$scope.searchObject.objectPlaceHolder="Enter Course title / id";}else{if(objectname=="ILT"){$scope.searchObject.objectName="Offering";$scope.searchObject.objectPlaceHolder="Enter ILT title / id";}else{if(objectname=="Competency"){$scope.searchObject.objectName="Competency";$scope.searchObject.objectPlaceHolder="Enter Competency title / id";}else{$scope.searchObject.objectName="Certification / Exam";$scope.searchObject.objectPlaceHolder="Enter title / id";}}}};$scope.Isalert=false;$scope.checkEnterbtn=function(){if($scope.oldSearch){if($scope.objectTitle.length>=1&&$scope.objectTitle.length<100){$scope.redirectToObjectPage();return;}else{if($scope.objectTitle.length>=100){$timeout(function(){alert("Please enter less than 100 characters to search");});return;}else{$timeout(function(){alert("Please enter minimum 1 character for search.");});return;}}}else{$scope.enterNewSearch();}};$scope.redirectToObjectPage=function(){SearchObjectDetails.resetProp();SearchObjectDetails.setProperty($scope.objectTitle);if($scope.oldSearch){if($scope.searchObject.objectName=="Course"){if($location.path()=="/lnk/Course/Search"){$rootScope.$broadcast("reloadpage");return;}else{$location.path("/lnk/Course/Search");return;}}else{if($scope.searchObject.objectName=="Offering"){ILTSearchFilterDetails.setFlag(false);if($location.path()=="/lnk/ILT/Search"){$rootScope.$broadcast("reloadpage");}else{$location.path("/lnk/ILT/Search");}}else{if($scope.searchObject.objectName=="Competency"){if($location.path()=="/lnk/Competencies/compGlobalSearch"){$rootScope.searchNamecomp=$scope.objectTitle;$route.reload();}else{$rootScope.searchNamecomp=$scope.objectTitle;$location.path("/lnk/Competencies/compGlobalSearch");}}else{if($scope.searchObject.objectName=="Certification / Exam"){if($location.path()=="/Certification/SearchResults"){$rootScope.$broadcast("reloadpage");}else{$location.path("/Certification/SearchResults");}}}}}}else{var snitisedStr=encodeURIComponent($scope.objectTitle);if($location.path()=="/lnk/GlobalSearch/All/"+snitisedStr){$rootScope.$broadcast("reloadpage");}else{$location.path("/lnk/GlobalSearch/All/"+snitisedStr);}}};$scope.goToFAQ=function(){$rootScope.isFAQ=false;$location.path("/lnk/FAQ");};$scope.moveToFag=function(){$rootScope.isFAQ=true;$location.path("/lnk/FAQ");};$scope.ViewCompletedlearnings=function(){ViewLearningNavigation.setProperty(true,2,1);$location.path("/Course/ViewLearnings");};$scope.ViewHeldCompetencies=function(){$rootScope.showHeldCompetencies=true;$location.path("Competencies/myCompetencies");};$scope.currDate=(new Date()).getTime();$scope.getNotificationCount=function(){$scope.imageShow=false;httpService.httpGetMethod("rest/landingPage/getNotificationCount",{},$http,false).success(function(data){$rootScope.notificationCount=data._outObjList1[0].count;$rootScope.worklistCount=data._outObjList3[0].count;$scope.employeeImage=data._outStrVal4;if($scope.notificationCount==0){$scope.countIcon=false;}if($rootScope.worklistCount==0){$rootScope.worklistCountIcon=false;}});};$rootScope.loadMesgPropFileFlag=true;$rootScope.$on("$routeChangeStart",function(event,next,current){var nextPath=$location.path();if(nextPath!="/Home"&&nextPath!=""&&$rootScope.loadMesgPropFileFlag==true){setlanguage("en");$rootScope.loadMesgPropFileFlag=false;var $2=document;var cssId2="mainStyleSheet";if(!$2.getElementById(cssId2)){var head=$2.getElementsByTagName("head")[0];var link=$2.createElement("link");link.id=cssId2;link.rel="stylesheet";link.type="text/css";link.href="appResources/css/mainStyleSheet.css?cd=191080";link.media="all";head.appendChild(link);}var $3=document;var cssId3="nglds1";if(!$3.getElementById(cssId3)){var head=$3.getElementsByTagName("head")[0];var link=$3.createElement("link");link.id=cssId3;link.rel="stylesheet";link.type="text/css";link.href="appResources/css/nglds1.css?cd=191083";link.media="all";head.appendChild(link);}var $4=document;var cssId4="AppImgSpriteStyles";if(!$4.getElementById(cssId4)){var head=$4.getElementsByTagName("head")[0];var link=$4.createElement("link");link.id=cssId4;link.rel="stylesheet";link.type="text/css";link.href="appResources/css/AppImgSpriteStyles.css?cd=191080";link.media="all";head.appendChild(link);}var $5=document;var cssId5="bootstrap-datepicker";if(!$5.getElementById(cssId5)){var head=$5.getElementsByTagName("head")[0];var link=$5.createElement("link");link.id=cssId5;link.rel="stylesheet";link.type="text/css";link.href="extResources/bootstrap/css/bootstrap-datepicker.css?cd=191080";link.media="all";head.appendChild(link);}$http({url:"extResources/modernizr/modernizr-2.0.6.min.js?cd=191080",method:"get",cache:true});}if(nextPath=="/Certificate/createNewCertification"){$rootScope._strCertIdFromManageCert="";$rootScope._blnNavigationFrmManageCert=false;$rootScope.pageLabelCreateCert="Create New Certification/Curricula";}if(nextPath=="/lnk/Certification/lnkCreateNewVersion"){$rootScope.pageLabelCreateCert="Manage Certification";}if(nextPath=="/lnk/Certificate/createNewCertification"){$rootScope.pageLabelCreateCert="Create New Certification/Curricula";}$scope.prevURL=$scope.currURL;$scope.currURL=nextPath;if(nextPath!=""&&nextPath!="/menu"&&nextPath!="/Home"&&nextPath!="/popup"&&nextPath.indexOf("/lnk/")==-1&&nextPath.indexOf("/wrkflw/")==-1&&nextPath!="/WorkList/CommonWorkList"&&nextPath!="/Request/ViewRequestList"&&nextPath!="/Course/Search"&&nextPath!="/Competencies/compGlobalSearch"&&nextPath!="/Certification/SearchResults"&&nextPath!="/ILT/Search/"){$scope.pathExist=false;var pathArray=$filter("filter")($scope.MymenuList,nextPath);if(pathArray!=undefined&&pathArray.length>0){for(var i=0;i<pathArray.length;i++){if(pathArray[i].url==nextPath){$scope.pathExist=true;}}if(!$scope.pathExist){$http.post("rest/accessVerification/?cd="+(new Date()).getTime(),nextPath).success(function(data){}).error(function(data){});}}else{$http.post("rest/accessVerification/?cd="+(new Date()).getTime(),nextPath).success(function(data){}).error(function(data){});}}});$scope.initConfPopup=function(_bDelete,heading,content,yesProceedFn){$scope.conf={_bDelete:_bDelete,heading:heading,content:content,yesProceedFn:yesProceedFn};};$rootScope.getCompForHome=function(){httpService.httpPostMethod("rest/competency/getCompForHome",null,$http).success(function(data){$rootScope.compHomeShow=true;$rootScope.reqCompetencies=data._outObj;$rootScope.popularCompetencies=data._outObj1;$rootScope.newCompetencies=data._outObj2;}).error(function(data){$rootScope.globalErrorMessage=data._strError;$rootScope.globalErrorMessageStyle={display:"block"};});};$(document).ready(function(){$.goup({title:"Go to Top",hideUnderWidth:300,bottomOffset:150,locationOffset:78,titleAsText:true,containerRadius:5,containerColor:"#6e6e6e"});});$scope.vendorList=[];$scope.languageList=[];$scope.getCriteriaList=function(criteria){switch(criteria){case"SortBy":return httpService.httpGetMethod("rest/interface/getSortByList",{},$http,true).success(function(data){$scope.sortByList=data._outObjList3;});break;case"Grade":return httpService.httpPostMethod("rest/interface/getGradeList",{},$http,true).success(function(data){$scope.gradeList=data._outObjList3;});break;case"Vendor":return httpService.httpGetMethod("rest/interface/getVendorList",{},$http,true).success(function(data){$scope.vendorList=data._outObjList3;});break;case"ProgramType":return httpService.httpGetMethod("rest/interface/getProgramTypeList",{},$http,true).success(function(data){$scope.programTypeList=data._outObjList3;});break;case"Designation":return httpService.httpPostMethod("rest/interface/getDesignationList",{},$http,true).success(function(data){$scope.designationList=data._outObjList3;});break;case"DelMode":return httpService.httpGetMethod("rest/interface/getDelModeList",{},$http,true).success(function(data){$scope.delModeList=data._outObjList3;});break;case"Language":return httpService.httpGetMethod("rest/interface/getLangList",{},$http,true).success(function(data){$scope.languageList=data._outObjList3;});break;case"IOU":return httpService.httpPostMethod("rest/interface/getIOUList",{},$http,true).success(function(data){$scope.iouList=data._outObjList3;});break;case"ActiveBranch":return httpService.httpPostMethod("rest/interface/getActiveBranchList",{},$http,true).success(function(data){$scope.activeBranchList=data._outObjList3;});break;case"Branch":return httpService.httpGetMethod("rest/interface/getBranchList",{},$http,true).success(function(data){$scope.BranchList=data._outObjList3;});break;case"Currency":return httpService.httpGetMethod("rest/interface/getactivecurrencylist",{},$http,true).success(function(data){$scope.CurrencyList=data._outObjList3;});break;case"GeographyBranch":return httpService.httpPostMethod("rest/interface/getGeographyBranchList",{},$http,true).success(function(data){$scope.GeographyBranchList=data._outObjList3;});break;case"Geography":return httpService.httpPostMethod("rest/interface/getGeographyList",{},$http,true).success(function(data){$scope.GeographyList=data._outObjList3;});break;default:break;}};$rootScope.getHomePageData=function(){var _inParam={_strEmpId:$rootScope.loggedInUserId,_intCertOffset:0,_intCertLimit:3,_intPopOffset:0,_intPopLimit:2};httpService.httpPostMethod("rest/certification/getCertHomePageData",_inParam,$http).success(function(data){$rootScope.myCertDetails=data._outObj.MYCERTS;$rootScope.myExamDetails=data._outObj.MYEXAMS;$rootScope.popularCertDetails=data._outObj.POPCERT;$rootScope.recommendedCertDetails=data._outObj.RECCERT;$rootScope.newCertDetails=data._outObj.NEWCERT;}).error(function(data){$rootScope.globalErrorMessage=data._strError;$rootScope.globalErrorMessageStyle={display:"block"};});};$scope.navigateToCompHome=function(){$location.path("/Competencies");};$scope.navigateToHome=function(){$location.path("/Home");};$scope.myInterval=5000;$scope.emp_no=$rootScope.userEmpId;$scope.getVersion=function(){httpService.httpGetMethod("rest/landingPage/getversion",{},$http,true).success(function(data){document.getElementById("buildNo").innerText="Build No : "+data.version;smSettings();}).error(function(data){console.log(data);});};$scope.getLandingPageDetails=function(){httpService.httpGetMethod("rest/landingPage/getLandingPageDetails",{flag:"H",offset:0,pagesize:4},$http,true).success(function(data){$rootScope.workListCount=data._outObj3;$scope.scheduledExams=data._outObj1;if($rootScope.workListCount==0){$rootScope.worklistCountIcon=false;}else{$rootScope.worklistCountIcon=true;}$scope.enrolmentDetails=data._outObjList1;$scope.empIouCertDetails=data._outObjList5;$scope.empLearningCalender=data._outObjList3;$scope.empIouCompDetails=data._outObjList4;$scope.empHeldDetails=data._outObj;$scope.certDetails=data._outObjList6;$scope.enableLuceneSearch=data._inBlnVal1;$scope.oldSearch=!data._inBlnVal1;$scope.disableLuceneSearch();if(data._outBlnVal1){$scope.showDashboard();}for(var i=0;i<$scope.empLearningCalender.length;i++){if($scope.empLearningCalender[i].iltName.length>45){var len=$scope.empLearningCalender[i].iltName.length-parseInt(50);$scope.empLearningCalender[i].iltName=$scope.empLearningCalender[i].iltName.substring(0,$scope.empLearningCalender[i].iltName.length-len);var last_name="......";$scope.empLearningCalender[i].iltName=$scope.empLearningCalender[i].iltName.concat(last_name);}else{$scope.empLearningCalender[i].iltName=$scope.empLearningCalender[i].iltName;}}for(var i=0;i<$scope.certDetails.length;i++){if($scope.certDetails[i].cert_name.length>45){var len=$scope.certDetails[i].cert_name.length-parseInt(50);$scope.certDetails[i].cert_name=$scope.certDetails[i].cert_name.substring(0,$scope.certDetails[i].cert_name.length-len);var last_name="......";$scope.certDetails[i].cert_name=$scope.certDetails[i].cert_name.concat(last_name);}else{$scope.certDetails[i].cert_name=$scope.certDetails[i].cert_name;}}for(var i=0;i<$scope.enrolmentDetails.length;i++){if($scope.enrolmentDetails[i].course_title.length>45){var len=$scope.enrolmentDetails[i].course_title.length-parseInt(50);$scope.enrolmentDetails[i].course_title=$scope.enrolmentDetails[i].course_title.substring(0,$scope.enrolmentDetails[i].course_title.length-len);var last_name="......";$scope.enrolmentDetails[i].course_title=$scope.enrolmentDetails[i].course_title.concat(last_name);}else{$scope.enrolmentDetails[i].course_title=$scope.enrolmentDetails[i].course_title;}}$scope.compDetails=data._outObjList7;if($scope.empHeldDetails.heldPoints==null){$scope.empHeldDetails.heldPoints="0";}if($scope.empHeldDetails!=null){if($scope.empHeldDetails.heldPoints<10){$scope.empHeldDetails.heldPoints="0"+$scope.empHeldDetails.heldPoints;}if($scope.empHeldDetails.heldCompetencies<10){$scope.empHeldDetails.heldCompetencies="0"+$scope.empHeldDetails.heldCompetencies;}if($scope.empHeldDetails.heldCertificate<10){$scope.empHeldDetails.heldCertificate="0"+$scope.empHeldDetails.heldCertificate;}if($scope.empHeldDetails.heldCourses<10){$scope.empHeldDetails.heldCourses="0"+$scope.empHeldDetails.heldCourses;}}$scope.slides=[];if(data._outObjList8!=null){$scope.slides=data._outObjList8;}$scope.getVersion();}).error();$scope.showDashboard=function(){$("#mypoints").find("table").find(".customspanhp").css({width:"180px"});$("#mypoints").find("table > tbody > tr").append('<td><a ng-style="myStyle" href="#/lnk/dashboard" target="_self"><div class="customspanhp" style="margin-left:0px"><div align="center"><span style="color:#006e5d;font-size:42px;font-weight:bold;font-family:Open Sans;width:100px;letter-spacing:-1px" class="ng-binding"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo5NEU0MjU1NDVGNTVFNjExQjlCRkZGRDIzM0MyNkJCQiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo2M0MyMkRERTU1NzUxMUU2OTc1NEE4RkNCOTgxNjUzRSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2M0MyMkRERDU1NzUxMUU2OTc1NEE4RkNCOTgxNjUzRSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjk4RTQyNTU0NUY1NUU2MTFCOUJGRkZEMjMzQzI2QkJCIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjk0RTQyNTU0NUY1NUU2MTFCOUJGRkZEMjMzQzI2QkJCIi8+IDwvcmRmOkRlc2NyaXB0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"></span></div><br><div align="center" style="margin-top:-25px"><span style="font-size:17px;color:#006e5d;font-weight:bold;font-family:Open Sans;letter-spacing:-1px;word-break:break-all">View Dashboard</span></div></div></a></td>');$("#mypoints").find("table").find(".customspanhp").css({width:"180px"});};};$scope.viewAll=function(){$location.path("/lnk/CertExams/ViewAllSchedule");};$scope.registerILT=function(iltid){$scope.postData={iltId:"",empNo:""};$scope.postData.iltId=parseInt(iltid);$scope.postData.empNo=$scope.emp_no;$http({url:"rest/ILT/registerILT",method:"POST",data:JSON.stringify($scope.postData),headers:{"Content-Type":"application/json",dataType:"json"}}).success(function(data,status){});};$scope.showCourseApprovalRequestDetails=function(regid){RequestDetails.setProperty(regid);ViewLearningNavigation.setProperty(true,1,$scope.enrol_currentPage);$location.path("/wrkflw/Course/CourseRequestListDetails");};$scope.showCourseDetails=function(courseid){$location.path("/lnk/Course/Search/CourseDetails/"+courseid);};$scope.showILTDetails=function(iltID){ILTDetails.setProperty(iltID);$location.path("/lnk/ILT/Search/ILTDetails");};$scope.showCompDetails=function(compObj){$rootScope.compId=compObj.comp_id;$rootScope.compName=compObj.comp_name;$location.path("/lnk/Competencies/viewCompDetails");};$scope.showCertDetails=function(certObj){$rootScope._certExam=certObj.cert_id;$location.path("/lnk/Certification/viewExamDetails");};$scope.getNameWithEllipsis=function(firstName,lastName){if(null!=firstName||firstName!=undefined||null!=lastName||lastName!=undefined){var name=firstName+" "+lastName;return("Welcome "+name);}};$scope.disableLuceneSearch=function(){if($scope.enableLuceneSearch){$("#searchContainer").css("width","100%");}else{$("#searchContainer").css("width","50%");}};}IndexController.$inject=["$scope","$route","$http","$compile","$location","$window","$timeout","$rootScope","SearchObjectDetails","ILTSearchFilterDetails","$filter","RequestDetails","Worklistdata","ILTDetails","ViewLearningNavigation","httpService","getSearchedContentList"];function UserProfileController($scope,$compile,$location,$http,Todo){var v=$http.get("rest/settings").success(function(data){$scope.settings=data.userProfileMap;if($scope.settings.FYA_EMAIL_NOTIFICATION_REQD=="true"||$scope.settings.FYA_EMAIL_NOTIFICATION_REQD==true){$scope.settings.FYA_EMAIL_NOTIFICATION_REQD=true;}else{$scope.settings.FYA_EMAIL_NOTIFICATION_REQD=false;}if($scope.settings.FYI_EMAIL_NOTIFICATION_REQD=="true"||$scope.settings.FYI_EMAIL_NOTIFICATION_REQD==true){$scope.settings.FYI_EMAIL_NOTIFICATION_REQD=true;}else{$scope.settings.FYI_EMAIL_NOTIFICATION_REQD=false;}if($scope.settings.FYI_NOTIFICATION_REQD=="true"||$scope.settings.FYI_NOTIFICATION_REQD==true){$scope.settings.FYI_NOTIFICATION_REQD=true;}else{$scope.settings.FYI_NOTIFICATION_REQD=false;}$scope.dataFmts=$.parseJSON(data.DATE_FORMATS);}).error(function(data){alert("Unable to Load User Profile parameter");});$scope.submit=function(){$http.post("rest/updateSettings",$scope.settings).success(function(data){alert("User Profile is Successfully Updated");}).error(function(data){alert("Error in adding/updating the User Profile");});};$scope.reload=function(){window.location.reload();};}UserProfileController.$inject=["$scope","$compile","$location","$http","Todo"];function BrandingController($scope,data){$scope.data=data;$("html").click(function(e){$=jQuery;if(e.target.id=="uparrow"||$(e.target).parents("#uparrow").size()){$scope.userid=1;document.getElementById("employeeDetailsPopup").style.display="none";}else{if(e.target.id=="brand"||$(e.target).parents("#brand").size()){$scope.userid=1;document.getElementById("employeeDetailsPopup").style.display="block";}else{if(e.target.id=="downarrow"||$(e.target).parents("#downarrow").size()){$scope.userid=1;document.getElementById("employeeDetailsPopup").style.display="block";}else{$scope.userid=2;}}}});}BrandingController.$inject=["$scope","data"];function SMLogoutController($scope){$scope.SMuserid=2;$scope.getSMUserId=function(){return $scope.SMuserid;};$scope.SMlogout=function(){$scope.SMuserid=1;};$scope.display=function(){$scope.SMuserid=2;};$scope.userProfile=false;$scope.userProfileDiv=function(){$scope.userProfile=!$scope.userProfile;};}SMLogoutController.$inject=["$scope"];function loadStyleClass(){var id=document.getElementById("Closed");id.className="frmwrkClosed";document.getElementById("button.closed").onclick=function(){alert("inside function");var bodyId=document.getElementById("entireBody");bodyId.id="no";};}function funcLandingPageDtlsCtrl($rootScope,$scope,httpService,$location,$http,ILTDetails){}funcLandingPageDtlsCtrl.$inject=["$rootScope","$scope","httpService","$location","$http","ILTDetails"];